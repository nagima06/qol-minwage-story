<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìµœì €ì„ê¸ˆ Ã— ì‚¶ì˜ì§ˆ â€” ë°ì´í„° ìŠ¤í† ë¦¬</title>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <style>
    :root { --bg:#0a0f1f; --ink:#eaf0ff; --muted:#a9b4d6; --card:#131b36; --accent:#6ea8fe; }
    html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,sans-serif;line-height:1.6}
    .wrap{max-width:1024px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;background:linear-gradient(180deg, rgba(10,15,31,.95), rgba(10,15,31,.7));backdrop-filter:blur(6px);border-bottom:1px solid #223061}
    header .bar{display:flex;align-items:center;justify-content:space-between;max-width:1024px;margin:0 auto;padding:10px 16px}
    header a{color:var(--muted);text-decoration:none;margin-right:14px}
    header a:hover{color:var(--ink)}
    .hero{padding:56px 16px 24px}
    h1{margin:0 0 6px;font-size:32px}
    .tag{display:inline-flex;align-items:center;gap:8px;border:1px solid #2a376b;color:#cfe0ff;background:#0e1631;border-radius:999px;padding:2px 10px;font-size:12px}
    section{margin:28px 0;background:var(--card);border-radius:18px;padding:16px 16px;box-shadow:0 8px 28px rgba(0,0,0,.25)}
    h2{font-size:20px;margin:0 0 10px}
    p{color:var(--muted)}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    .figure{height:420px;border-radius:14px;background:#0b132a}
    .note{font-size:12px;color:var(--muted)}
    .reveal{opacity:0;transform:translateY(12px);transition:all .6s ease}
    .reveal.show{opacity:1;transform:none}
    .btn{display:inline-flex;align-items:center;gap:8px;background:#0f1836;border:1px solid #2a376b;color:#dfe8ff;border-radius:10px;padding:8px 12px;text-decoration:none}
    .btn:hover{border-color:#6ea8fe}
    .chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
    .chip{border:1px solid #2a376b;border-radius:999px;padding:2px 8px;font-size:12px;color:#c7d2ff}
    .calc{display:grid;grid-template-columns:repeat(3, 1fr);gap:8px}
    input{background:#0d1530;border:1px solid #2a376b;color:var(--ink);border-radius:10px;padding:8px}
    label{font-size:12px;color:#cbd6ff}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    footer{color:var(--muted);text-align:center;margin:28px 0 40px}
    .iframe-box{height:520px;border:0;border-radius:14px;overflow:hidden}
  </style>
</head>
<body>
  <header>
    <div class="bar">
      <div class="row">
        <a href="#hero">ì†Œê°œ</a>
        <a href="#method">ë°©ë²•</a>
        <a href="#findings">ê²°ê³¼</a>
        <a href="#calc">í†µê³„ ê³„ì‚°ê¸°</a>
        <a href="#downloads">ë‹¤ìš´ë¡œë“œ</a>
      </div>
      <span class="tag">Option 4 Â· Data Story Website</span>
    </div>
  </header>

  <div class="wrap">
    <section id="hero" class="hero reveal">
      <h1>ìµœì €ì„ê¸ˆ ìƒìŠ¹ì€ ì‚¶ì˜ ì§ˆì„ ê°œì„ í• ê¹Œ?</h1>
      <p><b>ê°€ì„¤(H1)</b>: <i>ì‹¤ì§ˆ ìµœì €ì„ê¸ˆ</i>ì´ ë†’ì•„ì§ˆìˆ˜ë¡ ì €ì†Œë“ì¸µì˜ <i>ì‚¶ì˜ ì§ˆ(QoL)</i>ì€ ê°œì„ ëœë‹¤.</p>
      <div class="chips">
        <span class="chip">ëŒ€í•œë¯¼êµ­ íŒ¨ë„(ì—°ë„ë³„)</span>
        <span class="chip">Plotly ì¸í„°ë™ì…˜</span>
        <span class="chip">Scrollytelling</span>
      </div>
    </section>

    <section id="method" class="reveal">
      <h2>ì—°êµ¬ ì„¤ê³„</h2>
      <div class="grid">
        <div>
          <p>ì§€í‘œëŠ” ì—¥ê²”ê³„ìˆ˜(â†“ ì¢‹ìŒ), ì£¼ê±°ë¹„/ì†Œë“(â†“), ìŠ¤íŠ¸ë ˆìŠ¤(â†“), ê°€ì²˜ë¶„ì†Œë“(â†‘), ë¬¸í™”Â·ì—¬ê°€ì§€ì¶œë¹„ì¤‘(â†‘)ì„ ì‚¬ìš©í–ˆê³ , í‘œì¤€í™”(z) í›„ ë°©í–¥ì„ ë§ì¶° í‰ê· í•œ <b>í•©ì„± QoL</b>ë„ ì œì‹œí•©ë‹ˆë‹¤. ëª¨ë“  ì—°ë„ ìë£Œë¥¼ í’€ë§í•˜ì—¬ <b>ì‚°ì ë„+ë‹¨ìˆœì¶”ì„¸</b>ë¡œ ê´€ê³„ë¥¼ ë³´ê³ , ê¸°ê°„ êµ¬ê°„ë³„ ë¹„êµì™€ ì‹ ë¢°êµ¬ê°„ì„ í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤.</p>
          <p class="note">ì•„ë˜ ê·¸ë˜í”„ë“¤ì€ ì €ì¥ëœ JSONì„ ë¶ˆëŸ¬ ë Œë”í•©ë‹ˆë‹¤(ì˜¤í”„ë¼ì¸ ë™ì‘). êµì²´í•˜ë ¤ë©´ repoì˜ <code>fig/</code> ì•ˆ JSONì„ ìƒˆë¡œ ë‚´ë³´ë‚´ì„¸ìš”.</p>
        </div>
        <div class="figure" id="fig_trend"></div>
      </div>
    </section>

    <section id="findings" class="reveal">
      <h2>í•µì‹¬ ê²°ê³¼</h2>
      <div class="grid">
        <div class="figure" id="fig_scatter"></div>
        <div>
          <p><b>ìš”ì•½:</b> ì „ ì—°ë„ë¥¼ í•©ì³ ë³´ë©´, ìµœì €ì„ê¸ˆê³¼ QoL ì‚¬ì´ì˜ ê¸°ìš¸ê¸° <code>bâ‚ &gt; 0</code>ë¡œ ì–‘(+)ì˜ ì—°ê´€ì„±ì´ ê´€ì°°ë©ë‹ˆë‹¤. ë˜í•œ 2018â€“2023 ê¸°ê°„ì˜ í‰ê·  QoLì€ ì´ì „ ëŒ€ë¹„ ìƒìŠ¹í–ˆìœ¼ë©°, 95% ì‹ ë¢°êµ¬ê°„ì´ 0ì„ ë„˜ëŠ” êµ¬ê°„ì—ì„œ ì°¨ì´ê°€ ìœ ì˜í•©ë‹ˆë‹¤.</p>
          <ul class="note">
            <li>ì¢Œì¸¡: QoL vs ì‹¤ì§ˆ ìµœì €ì„ê¸ˆ (OLS ì„ í˜•ì„  ì í•©)</li>
            <li>ìš°ì¸¡: ì „/í›„ í‰ê· ì°¨ì™€ 95% CI (ë§‰ëŒ€ + ì—ëŸ¬ë°”)</li>
          </ul>
          <div class="figure" id="fig_ci" style="margin-top:8px;height:240px"></div>
        </div>
      </div>
    </section>

    <section id="calc" class="reveal">
      <h2>ë‚´ì¥ í†µê³„ ê³„ì‚°ê¸° (Welch tâ€‘test & 95% CI)</h2>
      <p>í‰ê· /í‘œì¤€í¸ì°¨/í‘œë³¸ìˆ˜ë¥¼ ì…ë ¥í•˜ë©´ ì „/í›„ í‰ê· ì°¨ì˜ 95% CIì™€ Welch tâ€‘ê²€ì •ì„ ê³„ì‚°í•©ë‹ˆë‹¤. (ìˆ˜ì—… ìˆ˜ì¤€ ê³„ì‚°ê¸°)</p>
      <div class="calc" style="margin-top:8px">
        <div>
          <label>Pre: mean</label>
          <input id="pre_m" type="number" step="any" placeholder="ì˜ˆ: 0.12" />
        </div>
        <div>
          <label>Pre: sd</label>
          <input id="pre_s" type="number" step="any" placeholder="ì˜ˆ: 0.08" />
        </div>
        <div>
          <label>Pre: n</label>
          <input id="pre_n" type="number" step="1" placeholder="ì˜ˆ: 6" />
        </div>
        <div>
          <label>Post: mean</label>
          <input id="post_m" type="number" step="any" placeholder="ì˜ˆ: 0.28" />
        </div>
        <div>
          <label>Post: sd</label>
          <input id="post_s" type="number" step="any" placeholder="ì˜ˆ: 0.07" />
        </div>
        <div>
          <label>Post: n</label>
          <input id="post_n" type="number" step="1" placeholder="ì˜ˆ: 6" />
        </div>
      </div>
      <div class="row" style="margin-top:10px">
        <a class="btn" href="#" onclick="calcT();return false;">ê³„ì‚°í•˜ê¸°</a>
        <span id="t_out" class="note"></span>
      </div>
    </section>

    <section class="reveal" id="embed">
      <h2>ì¸í„°ë™í‹°ë¸Œ ë³´ê³ ì„œ ì„ë² ë“œ</h2>
      <p>ì˜µì…˜ 2/3ì—ì„œ ë§Œë“  Plotly ë³´ê³ ì„œë¥¼ ê°™ì€ ì €ì¥ì†Œì— ë„£ê³  ì•„ë˜ì— <code>report.html</code>ë¡œ ì„ë² ë“œí•˜ì„¸ìš”.</p>
      <iframe class="iframe-box" src="report.html" title="Interactive Report"></iframe>
    </section>

    <section id="downloads" class="reveal">
      <h2>ìë£Œ ë‹¤ìš´ë¡œë“œ</h2>
      <p>ì¬í˜„ ê°€ëŠ¥ì„±ì„ ìœ„í•´ ì›ë³¸ê³¼ ì‚°ì¶œë¬¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
      <div class="row">
        <a class="btn" href="data/dataset.csv" download>ğŸ“„ ë°ì´í„° CSV</a>
        <a class="btn" href="Option3_Easy_Interactive_Presentation.ipynb" download>ğŸ““ ë…¸íŠ¸ë¶(.ipynb)</a>
        <a class="btn" href="report.html" download>ğŸ“Š Plotly HTML</a>
        <a class="btn" href="TwoSystemMaps.pdf" download>ğŸ—ºï¸ System Maps PDF</a>
      </div>
      <p class="note" style="margin-top:8px">ìœ„ íŒŒì¼ëª…ì€ ì˜ˆì‹œì…ë‹ˆë‹¤. ë¦¬í¬ì§€í† ë¦¬ì— ê°™ì€ ì´ë¦„ìœ¼ë¡œ ë„£ì–´ë‘ë©´ ìë™ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>
    </section>

    <footer class="reveal">
      <p>Â© 2025 Team QoL Ã— MinWage Â· GitHub Pages</p>
    </footer>
  </div>

<script>
// â”€â”€ Scrollytelling reveal â”€â”€
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target);} });
},{threshold:0.15});
for(const el of document.querySelectorAll('.reveal')) io.observe(el);

// â”€â”€ Tiny tâ€‘test calculator (Welch) â”€â”€
function tCritical95(df){
  const lut = {1:12.706,2:4.303,3:3.182,4:2.776,5:2.571,6:2.447,7:2.365,8:2.306,9:2.262,10:2.228,12:2.179,15:2.131,20:2.086,25:2.060,30:2.042,40:2.021,60:2.000,120:1.980,1e9:1.960};
  const ks = Object.keys(lut).map(Number).sort((a,b)=>a-b);
  for(let i=0;i<ks.length;i++){
    if(df<=ks[i]){ if(i===0) return lut[ks[0]]; const k0=ks[i-1],k1=ks[i];
      const y0=lut[k0],y1=lut[k1]; const t=y0+(y1-y0)*( (df-k0)/(k1-k0) ); return t; }
  }
  return 1.96;
}
function calcT(){
  const pm=parseFloat(pre_m.value), ps=parseFloat(pre_s.value), pn=parseFloat(pre_n.value);
  const qm=parseFloat(post_m.value), qs=parseFloat(post_s.value), qn=parseFloat(post_n.value);
  if([pm,ps,pn,qm,qs,qn].some(v=>!isFinite(v))){t_out.textContent='ëª¨ë“  ì¹¸ì„ ì±„ì›Œì£¼ì„¸ìš”.';return;}
  const se=Math.sqrt(ps*ps/pn + qs*qs/qn);
  const t=(qm-pm)/se;
  const df=Math.pow(ps*ps/pn + qs*qs/qn,2) / (Math.pow(ps*ps/pn,2)/(pn-1) + Math.pow(qs*qs/qn,2)/(qn-1));
  const tcrit=tCritical95(df);
  const dec=Math.abs(t)>tcrit ? 'H0 ê¸°ê°(ìœ ì˜)' : 'H0 ê¸°ê° ì‹¤íŒ¨';
  const w=tcrit*se; const lo=(qm-pm)-w, hi=(qm-pm)+w;
  t_out.innerHTML=`Î”= ${(qm-pm).toFixed(3)}; 95% CI [${lo.toFixed(3)}, ${hi.toFixed(3)}]; t=${t.toFixed(3)}, df=${df.toFixed(1)}, tcrit=${tcrit.toFixed(3)} â†’ <b>${dec}</b>`;
}

// â”€â”€ Plotly figure loaders â”€â”€
// ì´ í…œí”Œë¦¿ì€ fig/*.jsonì„ ë¶ˆëŸ¬ ë Œë”í•©ë‹ˆë‹¤(Plotly.toImageë¡œ ì €ì¥í–ˆë˜ JSON). ì—†ìœ¼ë©´ ì˜ˆì‹œ ë°ì´í„°ë¡œ ê·¸ë¦¼ ìƒì„±.
async function renderFig(id, file, fallback){
  try{
    const res = await fetch(file); if(!res.ok) throw new Error('no file');
    const {data, layout, config} = await res.json();
    Plotly.newPlot(id, data, layout, config || {responsive:true});
  }catch(err){ fallback(); }
}

// ì˜ˆì‹œ ê·¸ë¦¼ (ë°ëª¨ìš©) â€” ì‹¤ì œë¡œëŠ” fig/*.json íŒŒì¼ë¡œ êµì²´
function demoTrend(){
  const x=[2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023];
  const q=[-0.42,-0.02,0.05,-0.32,-0.36,-0.20,-0.13,-0.28,-0.17,0.34,0.65,0.69];
  const w=[6.3,6.4,6.6,6.8,7.0,7.5,8.3,8.7,8.6,8.9,9.1,9.3];
  const qn=q.map((v,i)=> (v-Math.min(...q))/(Math.max(...q)-Math.min(...q)) );
  const wn=w.map((v,i)=> (v-Math.min(...w))/(Math.max(...w)-Math.min(...w)) );
  Plotly.newPlot('fig_trend',[{x, y:qn, mode:'lines+markers', name:'QoL (norm)'},{x, y:wn, mode:'lines+markers', name:'Wage (norm)'}],{paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',margin:{l:50,r:20,t:30,b:40},xaxis:{title:'Year'},yaxis:{title:'Normalized (0â€“1)'}},{responsive:true});
}
function demoScatter(){
  const w=[6.3,6.4,6.6,6.8,7.0,7.5,8.3,8.7,8.6,8.9,9.1,9.3];
  const q=[-0.42,-0.02,0.05,-0.32,-0.36,-0.20,-0.13,-0.28,-0.17,0.34,0.65,0.69];
  const fit=(x)=>-2+0.28*x; const xs=[...Array(50)].map((_,i)=>6.2+i*(3.3/49)); const ys=xs.map(fit);
  Plotly.newPlot('fig_scatter',[{x:w,y:q,mode:'markers',name:'Data'},{x:xs,y:ys,mode:'lines',name:'fit',line:{dash:'dash'}}],{paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',margin:{l:50,r:20,t:30,b:40},xaxis:{title:'Real Min Wage'},yaxis:{title:'QoL (index)'}},{responsive:true});
}
function demoCI(){
  Plotly.newPlot('fig_ci',[{x:['Post-Pre'],y:[0.18],type:'bar',error_y:{type:'data',array:[0.07],visible:true}}],{paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',margin:{l:50,r:20,t:10,b:30},yaxis:{title:'Mean diff (QoL)'}},{responsive:true});
}

renderFig('fig_trend','fig/trend.json',demoTrend);
renderFig('fig_scatter','fig/scatter.json',demoScatter);
renderFig('fig_ci','fig/ci.json',demoCI);
</script>
</body>
</html>
